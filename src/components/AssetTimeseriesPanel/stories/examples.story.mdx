import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { decorators, customStyle, metaOptions, handleAssetTimeseriesLoaded } from './helper';
import { AssetTimeseriesPanel } from '../AssetTimeseriesPanel';

<Meta title="Assets|AssetTimeseriesPanel/Example" decorators={decorators} />

## Custom Spinner
      
<Preview withSource='open'>
  <Story name="Custom Spinner">  
    <AssetTimeseriesPanel
      assetId={4650652196144007}
      customSpinner={<div>Loading...</div>}
    />
  </Story>
</Preview>

## Custom Styles

```jsx
const customStyle = {
  wrapper: {
    border: '2px red solid',
    width: '70%',
  },
  timeseriesContainer: {
    backgroundColor: '#efefef',
  },
};
```
      
<Preview withSource='open'>
  <Story name="Custom Styles">  
    <AssetTimeseriesPanel
      assetId={4650652196144007}
      styles={customStyle}
    />
  </Story>
</Preview>

## Custom Time Series Chart Meta

This component takes all optional props of TimeseriesChartMeta component. These props are passed to every instance of TimeseriesChartMeta in the list of timeseries. See TimeseriesChartMeta component for more details.

```jsx
const metaOptions = {
  defaultTimePeriod: 'lastYear',
  liveUpdate: false,
  showChart: true,
  showDescription: false,
  showDatapoint: true,
  showMetadata: false,
  showPeriods: true,
};
```
<Preview withSource='open'>
  <Story name="Custom Time Series Chart Meta">  
    <AssetTimeseriesPanel
      assetId={4650652196144007}
      {...metaOptions}
    />
  </Story>
</Preview>

## Load Callbacks

```jsx
import { GetTimeSeriesMetadataDTO } from '@cognite/sdk';

const handleAssetTimeseriesLoaded = (files: GetTimeSeriesMetadataDTO[]) => console.log(files);
```
<Preview withSource='open'>
  <Story name="Load Callback">  
    <AssetTimeseriesPanel
      assetId={4650652196144007}
      onAssetTimeseriesLoaded={handleAssetTimeseriesLoaded}
    />
  </Story>
</Preview>
